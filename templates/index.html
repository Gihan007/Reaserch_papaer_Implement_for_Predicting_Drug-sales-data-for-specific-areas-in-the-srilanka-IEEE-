<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drug Sales Forecast - Input Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .form-container {
            max-width: 600px;
            margin: 50px auto;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            background: white;
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
        }
        .btn-primary:hover {
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
        }
    </style>
</head>
<body class="bg-light">
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/">Drug Sales Prediction</a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="/">Home</a>
                <a class="nav-link active" href="/forecast">Predict</a>
                <a class="nav-link" href="/meta-learning">Meta-Learning</a>
                <a class="nav-link" href="/about">About</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="form-container">
            <h2 class="text-center mb-4">Drug Sales Forecast</h2>
            <p class="text-center text-muted mb-4">Enter the drug category and date to get a sales prediction</p>

            <form method="POST" action="/forecast">
                <div class="mb-3">
                    <label for="category" class="form-label">Drug Category</label>
                    <select class="form-select" id="category" name="category" required>
                        <option value="">Select a category</option>
                        <option value="C1">C1 - M01AB (Anti-inflammatory)</option>
                        <option value="C2">C2 - M01AE (Anti-inflammatory)</option>
                        <option value="C3">C3 - N02BA (Analgesics)</option>
                        <option value="C4">C4 - N02BE (Analgesics)</option>
                        <option value="C5">C5 - N05B (Psycholeptics)</option>
                        <option value="C6">C6 - N05C (Psycholeptics)</option>
                        <option value="C7">C7 - R03 (Respiratory)</option>
                        <option value="C8">C8 - R06 (Antihistamines)</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label for="model_type" class="form-label">Prediction Model</label>
                    <select class="form-select" id="model_type" name="model_type" required>
                        <option value="ensemble">Ensemble (Recommended) - Combines multiple models</option>
                        <option value="transformer">Transformer - Advanced deep learning</option>
                        <option value="lstm">LSTM - Long Short-Term Memory</option>
                        <option value="gru">GRU - Gated Recurrent Unit</option>
                        <option value="xgboost">XGBoost - Gradient boosting</option>
                        <option value="lightgbm">LightGBM - Fast gradient boosting</option>
                        <option value="prophet">Prophet - Facebook's forecasting tool</option>
                        <option value="sarimax">SARIMAX - Statistical time series</option>
                    </select>
                    <div class="form-text">Choose the machine learning model for your prediction</div>
                </div>

                <div class="mb-3">
                    <label for="date" class="form-label">Prediction Date</label>
                    <input type="date" class="form-control" id="date" name="date"
                           min="2014-01-01" max="2025-12-31" required>
                    <div class="form-text">Select a date between 2014 and 2025</div>
                </div>

                <div class="d-grid">
                    <button type="submit" class="btn btn-primary btn-lg">Generate Forecast</button>
                </div>
            </form>

            <div class="mt-4">
                <h5>Available Models:</h5>
                <p class="text-muted small">Select your preferred machine learning algorithm above</p>
                <div class="row">
                    <div class="col-md-6">
                        <ul class="list-unstyled">
                            <li><i class="fas fa-check text-success"></i> <strong>Ensemble</strong> - Combines all models (recommended)</li>
                            <li><i class="fas fa-check text-success"></i> <strong>Transformer</strong> - Advanced deep learning</li>
                            <li><i class="fas fa-check text-success"></i> <strong>LSTM</strong> - Sequential data processing</li>
                            <li><i class="fas fa-check text-success"></i> <strong>GRU</strong> - Efficient recurrent network</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <ul class="list-unstyled">
                            <li><i class="fas fa-check text-success"></i> <strong>XGBoost</strong> - Gradient boosting trees</li>
                            <li><i class="fas fa-check text-success"></i> <strong>LightGBM</strong> - Fast distributed training</li>
                            <li><i class="fas fa-check text-success"></i> <strong>Prophet</strong> - Time series forecasting</li>
                            <li><i class="fas fa-check text-success"></i> <strong>SARIMAX</strong> - Statistical modeling</li>
                        </ul>
                    </div>
                </div>
                <div class="alert alert-info mt-3">
                    <small><i class="fas fa-info-circle"></i> <strong>Tip:</strong> For best results, try the <strong>Ensemble</strong> option which combines predictions from all available models for improved accuracy.</small>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Set default date to today
        document.getElementById('date').valueAsDate = new Date();
    </script>
</body>
</html>
